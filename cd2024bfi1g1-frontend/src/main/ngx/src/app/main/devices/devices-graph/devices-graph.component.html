<o-form attr="devicesTable" include-parent-keys="yes" parent-keys="DEV_ID" keys-sql-types="INTEGER" service="devices"
    entity="devices" show-header="false">
    <o-text-input attr="DEV_MAC"></o-text-input>
    <o-text-input attr="DEV_ID"></o-text-input>

    <o-column>
        <label class="input-comp-title">{{ 'DATE_RANGE_LABEL' | oTranslate }}</label>
        <div class="inline-fields">
            <div fxLayout="column" layout-padding>
                <o-daterange-input attr="ME_DATE" label="{{ 'DATE_RANGE_INPUT' | oTranslate }}" read-only="no"
                    required="no" format="DD/MM/YYYY" show-week-numbers="true" mode="desktop" automatic-binding="false"
                    translate="yes">
                </o-daterange-input>
            </div>
            <div fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="8px">
                <o-button attr="filter" [oFilterBuilderQuery]="filterBuilder" type="RAISED" color="primary"
                    label="{{ 'FILTER' | oTranslate }}" class="filter-button"></o-button>
                <o-button attr="clear" [oFilterBuilderClear]="filterBuilder" type="RAISED"
                    label="{{ 'CLEAR' | oTranslate }}" class="filter-button"></o-button>
            </div>
        </div>

        <!-- Filtro para ambas graficas -->
        <o-filter-builder #filterBuilder attr="thefilter" filters="DEV_ID:DEV_ID;ME_DATE:ME_DATE"
            [target]="measurementsTable" query-on-change="yes"
            [expression-builder]="createFilter"></o-filter-builder>

        <!--Tabla de Medidas-->
        <o-table #measurementsTable attr="tablaMedidas" service="measurements" entity="measurements"
            columns="ME_DATE;ME_TEMP;ME_HUMIDITY" (onDataLoaded)="fillChart($event)">

        </o-table>

        <!-- Grafica Temperatura -->
        <o-chart #lineChartBasic type="line" [chart-parameters]="chartParametersTemp" x-label="{{ 'TIME' | oTranslate }}"
            y-label="{{ 'TEMPERATURE' | oTranslate }}" [color]="colorScheme" [data]="dataArrayTemp" 
            show-grid-lines="true"></o-chart>

        <!-- Grafica Humedad -->
        <o-chart #lineChartBasic type="line" [chart-parameters]="chartParametersHum" x-label="{{ 'TIME' | oTranslate }}"
            y-label="{{ 'ME_HUMIDITY' | oTranslate }}" [color]="colorScheme" [data]="dataArrayHum"
            show-grid-lines="true"></o-chart>

    </o-column>


</o-form>